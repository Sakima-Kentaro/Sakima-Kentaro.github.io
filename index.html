<!DOCTYPE html>
<html>
    <title>
        素因数分解
    </title>
    <meta http-equiv="Content-Type"  charset="utf-8" />  
</html>
<body>
   <div id="app">
       <input v-model="number" type="tel">
       <button v-on:click="check">素因数分解</button>
       <p>{{result}}</p>
   </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
<script>
    var ap=new Vue({
      el:"#app",
      data:{
            number:null,
            result:"",
      },
     methods:{
         getnumber:function()
         {  
            
            if(this.number>0&&this.result!="値が不正です")
                    {
                        this.result="";
                    if(this.number==2||this.number==1){
                     this.result=this.number+"^1";
                 }
                 else{
                     var rnumber=this.number;
                     var count=0;
                     for(var i=2;i<=this.number;i++){
                           
                         
                            if(rnumber%i==0){
                             rnumber=rnumber/i;
                             
                             count=count+1;
                             i=i-1;
                         }
                         else{
                             if(count!=0)
                             {
                                this.result=this.result+i+"^"+count+"*";
                             count=0;
                             if(rnumber==1)
                             {
                                break;
                             }
                             }
                            if(count==0&&Math.sqrt(rnumber)<i)
                            {
                                this.result=this.result+rnumber+"^1";
                                break;
                            }
                         }
                         
                             
                         
                     }
                     
                 }
                 
                
             
                    }
                    
                 
                   console.log(this.result);
         },
         test:function(){
            
         },
         check:function()
         {
            var array=this.number.split('');
            console.log(this.number);
                   for(var i=0;i<array.length;i++)
                   {
                       var x="0123456789"
                       if(x.indexOf(array[i])<0)
                       {    
                            this.result="値が不正です"
                             break;
                       }
                   }

                   this.getnumber();
         }
         

     }


    })
</script>
